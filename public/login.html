<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="styles/logins.css">
        <title>Task Manager</title>
        <style>
            /* Style for the alert error message */
            #alert_error {
                display: none; /* Initially hidden */
                float: left !important;
                color: white;
                font-size: 16px;
                padding: 10px;
                border: 2px solid #f5c6cb;
                border-radius: 5px;
            }
        </style>
    </head>
<body>
    <div class="contain">                  
        <nav>
            <ul>
                <li><a style="display: flex;justify-items: flex-end;float: right !; font-size: 16px;
                padding: 10px 20px;font-weight: bold;border-radius: 10px;
                " href="/signup">Sign Up</a></li>
            </ul>  
        </nav>
    </div>       
      <!-- Error message container -->
      <div id="alert_error"></div>
<form id="login-form" action="/" method="POST">     
    <div class="loginform">              
        <div class=" ">
                    <h3 style="color: whitesmoke;justify-content: left !important;font-size: 20px;letter-spacing: 20px;
                    font-weight: lighter;">Task Master</h3>
                        <div class="inputs">
                            <label for="email">
                        <input style="margin-top: 0px;" type="email" id="username" required maxlength="64" value="emaubong@gmail.com" name="email"
                    placeholder="Username" onfocus="if(this.value == 'username'){this.value = '';}" 
                onblur="if(this.value == ''){this.value = 'username';}">
            </label>
        </div>
    <div>
        <label for="password">
            <input type="password" id="pass" minlength="4" required placeholder="Password" value="root" maxlength="20" name="password"
                onfocus="this.value = this.value=='Password'?'':this.value;" 
                    onblur="this.value = this.value==''?'Password':this.value;">
                        </label>
                                </div>
                            <div class="login_button">
                        <input style=" padding: 15px 0px; background-color: orangered;
                         color: white; font-weight:700;" type="submit" value="Sign in">
                    </div>
                </div>
            </form>
            <!-- <div style ="font-size:85%; color: white"><br><br><br>
                Dont have an account? Click Sign up!
                </div> -->
        <script>
    // Get the URL parameters
    const urlParams = new URLSearchParams(window.location.search);
    const errorType = urlParams.get('error'); 
        
    // Check if there's an error query parameter
        if (errorType) {
            const alertError = document.getElementById('alert_error');
            alertError.style.display = 'block'; // Show the error message

            // Set the appropriate error message based on the error type
            if (errorType === 'incorrect') {
                alertError.innerText = 'Incorrect email or password.';
            } else if (errorType === 'usernotfound') {
                alertError.innerText = 'No user found with this email address.';
            } else if (errorType === 'missingcredentials') {
                alertError.innerText = 'Please provide both email and password.';
            } else {
                alertError.innerText = 'An unknown error occurred. Please try again.';
            }
        }
    </script>
</body>
</html>
